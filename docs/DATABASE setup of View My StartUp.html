<!DOCTYPE html>

<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=3, user-scalable=yes"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap" rel="stylesheet">

<codeprint id="docuK-style">
<div class="docuK rendered"><div class="sec" id="docuK-log"></div></div>

<!-- From kipid.tistory CDN -->
<script src="https://tistory1.daumcdn.net/tistory/1468360/skin/images/jquery.js"></script>
<link rel="stylesheet" href="https://tistory1.daumcdn.net/tistory/1468360/skin/images/docuK-2.3.css">
<script src="https://tistory3.daumcdn.net/tistory/1468360/skin/images/docuK-prepare-2.3.js" charset="utf-8"></script>
</codeprint><!-- docuK-style -->

<meta charset="utf-8" name="description" content="DATABASE setup of View My StartUp"/>

<codeprint class="SEE">
# DATABASE setup of View My StartUp



## PH

<ul>
<li>2024-09-26 : First posting.</li>
</ul>



## Schema 모음.

User: <refer class="model-User"></refer>

Company: <refer class="model-Company"></refer>

Investment: <refer class="model-Investment"></refer>



## User

<div id="model-User"><div class="number none">User</div>

```[.scrollable]
model User {
  id       String @id @default(uuid())
  name     String // 유저 성명
  nickname String // 서비스 내 표시할 별명
  email    String // 이메일

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  investments Investment[]
  company     Company?
}
```/

</div>



## Company

<div id="model-Company"><div class="number none">Company</div>

```[.scrollable]
model Company {
  // TODO 가상 투자 금액 총계를 직접 저장할 것인가, 매번 계산할 것인가
  id            String @id @default(uuid())
  name          String @unique
  description   String
  category      String // 회사 카테고리. 입력단에서 검증해야함.
  AccumulInvest BigInt // NOTE 누적 투자 금액(실제)
  revenue       BigInt // NOTE 매출액
  employees     Int // NOTE 고용 인원수
  selectedCount Int // NOTE 선택된 횟수

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  investments Investment[]
  owner       User         @relation(fields: [ownerId], references: [id])
  ownerId     String       @unique
}
```/

</div>



## Investment

<div id="model-Investment"><div class="number none">Investment</div>

```[.scrollable]
model Investment {
  id       String @id @default(uuid())
  name     String
  amount   Int
  comment  String
  password String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  user      User    @relation(fields: [userId], references: [id])
  userId    String // NOTE 투자자
  company   Company @relation(fields: [companyId], references: [id])
  companyId String // NOTE 투자대상 기업

  @@index([userId, createdAt(sort: Desc)])
}
```/

</div>



## RRA

<ol class="refs">
<li id="prisma"><a target="_blank" href="https://kipid.tistory.com/entry/prisma-with-PostgreSQL-%EB%A5%BC-%EB%B0%B0%EC%9B%8C%EB%B4%85%EC%8B%9C%EB%8B%A4">kipid's blog :: prisma with PostgreSQL 를 배워봅시다.</a></li>
</ol>
</codeprint><!-- SEE -->

<codeprint id="docuK-script">
<script>
(function(m, $, undefined) {
m.printMode=false;
m.ripplesDisabled=false;
m.recoeveUserId="kipid";
m.recoCats="[IT/Programming]--국비 지원 코딩/공부--Project-1";
m.wait=1024;
m.delayPad=0;

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
**/
window.disqus_config=function () {
	this.page.identifier="DATABASE-setup-of-View-My-StartUp"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
	this.page.url=`https://kipid.tistory.com/entry/${this.page.identifier}`; // Replace PAGE_URL with your page's canonical URL variable
};
})(window.k, jQuery);
</script>

<!-- From kipid.tistory CDN -->
<script src="https://tistory3.daumcdn.net/tistory/1468360/skin/images/docuK-postProcess-2.3.js" charset="utf-8"></script>
</codeprint><!-- docuK-script -->
